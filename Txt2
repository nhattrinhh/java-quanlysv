// Client.java
import java.io.*;
import java.net.*;
import java.util.*;

public class Client {
    public static void main(String[] args) {
        String host = "localhost";
        int port = 12345;

        try (Socket socket = new Socket(host, port);
             ObjectOutputStream oos = new ObjectOutputStream(socket.getOutputStream());
             Scanner sc = new Scanner(System.in)) {

            while (true) {
                System.out.print("Loại máy tính (Desktop/Laptop/Tablet PC): ");
                String type = sc.nextLine();
                System.out.print("Mã sản phẩm: ");
                String productId = sc.nextLine();
                if (productId.equalsIgnoreCase("quit")) break;

                System.out.print("Số lượng: ");
                int quantity = Integer.parseInt(sc.nextLine());

                System.out.print("Đơn giá: ");
                double unitPrice = Double.parseDouble(sc.nextLine());

                System.out.print("Ngày sản xuất: ");
                String manufactureDate = sc.nextLine();

                System.out.print("Hãng sản xuất: ");
                String manufacturer = sc.nextLine();

                Device device = new Device(type, productId, quantity, unitPrice, manufactureDate, manufacturer);
                oos.writeObject(device);
                oos.flush();
            }

        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}
